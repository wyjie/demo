<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>设备预约</title>
	 <link href="./css/style.css" rel="stylesheet" type="text/css"/>
	 <script type="text/javascript" src="./js/jquery-1.10.2.js" ></script>
	 <script type="text/javascript" src="js/laydate.dev.js" ></script>
</head>
<body>
	<!-- left 侧边栏 start -->
	<div id="left">
		<span class="navSpan" data-tags="1">
			<a class="navLink" href="list.html">设备列表</a>
			<div class="sonNavsDiv" data-tags-div="1">
				<span class="sonNavSpan"><a href="left.html">子栏目1</a></span>
				<span class="sonNavSpan"><a href="add.html">子栏目2</a></span>
				<span class="sonNavSpan"><a href="left.html">子栏目3</a></span>
				<span class="sonNavSpan"><a href="add.html">子栏目4</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="2">
			<a class="navLink" href="add.html">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="2">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
				<span class="sonNavSpan"><a href="add.html">子栏目3</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="3">
			<a class="navLink" href="#">预约实验设备</a>
			<div class="sonNavsDiv" data-tags-div="3">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="4">
			<a class="navLink" href="#">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="4">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="5">
			<a class="navLink" href="#">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="5">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="6">
			<a class="navLink" href="#">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="6">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="7">
			<a class="navLink" href="#">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="7">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		<span class="navSpan" data-tags="8">
			<a class="navLink" href="#">添加实验设备</a>
			<div class="sonNavsDiv" data-tags-div="8">
				<span class="sonNavSpan"><a href="">子栏目1</a></span>
				<span class="sonNavSpan"><a href="">子栏目2</a></span>
			</div>			
		</span>

		
	</div>
	<!-- left 侧边栏 end -->

	<!-- 设备预约 start -->
	<div id="yuyue" style="padding: 100px;">
		<span class="formSpan">　　设备:</span>
		<select name="shebei" id="selectAge">   
	        <option value="1">风洞</option>   
	        <option value="2">离心机</option>   
	        <option value="3">离心机</option>   
	        <option value="4">离心机</option>   
	        <option value="5">离心机</option>         
        </select><br /> 
		<span class="formSpan">　　项目:</span>
		<input type="text" name='xiangmu'> <br />
		<span class="formSpan">预约时间:</span><input class="time" id="start" type="text" name="start"> to <input class="time" type="text" name="end" id="end">

		<input type="submit" value="提交">
	</div>
	<!-- 设备预约 end -->

</body>
<script>
	$(function(){

		var tags = 0;

		$(".navSpan").click(function(){
			var thisTags = $(this).data('tags');

			//判断是否已经打开一个子导航栏
			if(isSonNavOpen())
			{
				//判断是否和当前点击的是同一个
				if(tags == thisTags)		//是同一个，关闭该子导航
				{
					closeSonNav(tags);
				}
				else									//不是同一个, 关闭旧的并打开一个新的
				{
					closeSonNav(tags);
					openSonNav(thisTags);
				}
			}
			else			//当前没有子导航打开，打开一个新的
			{
				openSonNav(thisTags);
			}
			
		});

		//判断是否已经打开一个子导航栏
		function isSonNavOpen()
		{
			if(tags != 0)		//已经打开
			{
				return true;
			}

			return false;
		}

		//打开一个子导航
		function openSonNav(thisTags)
		{
			var sonNavsDiv = $("div[data-tags-div="+ thisTags +"]");

			//显示子导航栏
			sonNavsDiv.css("display", "block");

			tags = thisTags;
		}

		//关闭一个子导航
		function closeSonNav(thisTags)
		{
			var sonNavsDiv = $("div [data-tags-div="+ thisTags +"]");
			
			sonNavsDiv.css("display", "none");	

			//关闭后把标记清0， 否则打开一个后，一直是已经打开状态
			tags = 0;
		}
	});

	//日历插件
	laydate({
    	elem: '#start', //目标元素。由于laydate.js封装了一个轻量级的选择器引擎，因此elem还允许你传入class、tag但必须按照这种方式 '#id .class'
    	event: 'focus' //响应事件。如果没有传入event，则按照默认的click
	});
	laydate({
    	elem: '#end', //目标元素。由于laydate.js封装了一个轻量级的选择器引擎，因此elem还允许你传入class、tag但必须按照这种方式 '#id .class'
    	event: 'focus' //响应事件。如果没有传入event，则按照默认的click
	});
</script>
</html>